messageTypes:
  # Additional scheduling trigger events beyond S12
  - "SIU^S13"
  - "SIU^S14"
  - "SIU^S15"
  - "SIU^S16"
  - "SIU^S17"
  - "SIU^S18"
  - "SIU^S19"
  - "SIU^S20"
  - "SIU^S21"
  - "SIU^S22"
  - "SIU^S23"
  - "SIU^S24"
  - "SIU^S25"
  - "SIU^S26"
#
# These SIU messages carry various scheduling updates (add, modify,
# delete appointments).  We reuse the same Appointment/Organization/
# Practitioner/PractitionerRole/Location mapping used for SIU^S12.
resourcePlan:
  - resource: Appointment
    profile: "http://hl7.org/fhir/us/core/StructureDefinition/us-core-appointment"
    rules:
      - hl7_path: "SCH.1"
        fhir_path: "identifier[]"
        transform: "cx_to_identifier"
      - hl7_path: "SCH.2"
        fhir_path: "identifier[]"
        transform: "cx_to_identifier"
      - hl7_path: "SCH.6"
        fhir_path: "start"
        transform: "ts_to_datetime"
      - hl7_path: "SCH.7"
        fhir_path: "end"
        transform: "ts_to_datetime"
      - hl7_path: "SCH.25"
        fhir_path: "status"
        transform: "sch_status_to_appt_status"
      - hl7_path: "PID.3"
        fhir_path: "participant[0].actor.identifier"
        transform: "cx_to_identifier"
      - hl7_path: "-"
        fhir_path: "participant[0].status"
        transform: "default_participant_status"
      - hl7_path: "AIP.3"
        fhir_path: "participant[1].actor"
        transform: "xcn_to_reference"
      - hl7_path: "-"
        fhir_path: "participant[1].status"
        transform: "default_participant_status"
      - hl7_path: "AIL.3"
        fhir_path: "participant[2].actor"
        transform: "string_to_location_reference"
      - hl7_path: "-"
        fhir_path: "participant[2].status"
        transform: "default_participant_status"
  - resource: Organization
    profile: "http://hl7.org/fhir/us/core/StructureDefinition/us-core-organization"
    rules:
      - hl7_path: "MSH.4"
        fhir_path: "identifier[0]"
        transform: "string_to_org_identifier"
      - hl7_path: "MSH.4"
        fhir_path: "name"
  - resource: Practitioner
    profile: "http://hl7.org/fhir/us/core/StructureDefinition/us-core-practitioner"
    rules:
      - hl7_path: "AIP.3"
        fhir_path: "identifier[0]"
        transform: "xcn_to_identifier"
      - hl7_path: "AIP.3"
        fhir_path: "name"
        transform: "xcn_to_name"
  - resource: PractitionerRole
    profile: "http://hl7.org/fhir/us/core/StructureDefinition/us-core-practitionerrole"
    rules:
      - hl7_path: "AIP.3"
        fhir_path: "practitioner.identifier"
        transform: "xcn_to_identifier"
      - hl7_path: "MSH.4"
        fhir_path: "organization.identifier"
        transform: "string_to_org_identifier"
  - resource: Location
    profile: "http://hl7.org/fhir/us/core/StructureDefinition/us-core-location"
    rules:
      - hl7_path: "AIL.3"
        fhir_path: "identifier[0]"
        transform: "string_to_location_identifier"
      - hl7_path: "AIL.3"
        fhir_path: "name"