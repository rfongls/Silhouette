messageTypes:
  # Billing account record events
  - "BAR^P01"
  - "BAR^P02"
  - "BAR^P05"
  - "BAR^P06"
  - "BAR^P10"
#
# BAR messages convey financial/billing information related to a patient's
# account.  These mappings align BAR events with FHIR ChargeItem and
# Account resources, reusing the same rules as for DFT events.
resourcePlan:
  - resource: ChargeItem
    rules:
      - hl7_path: "-"
        fhir_path: "status"
        transform: "default_chargeitem_status"
      - hl7_path: "FT1.4"
        fhir_path: "code"
        transform: "obx_cwe_to_codeableconcept"
      - hl7_path: "FT1.6"
        fhir_path: "quantity.value"
      - hl7_path: "PID.3"
        fhir_path: "subject.identifier"
        transform: "cx_to_identifier"
  - resource: Account
    rules:
      - hl7_path: "-"
        fhir_path: "status"
        transform: "default_account_status"
      - hl7_path: "PID.3"
        fhir_path: "subject[0].identifier"
        transform: "cx_to_identifier"
      - hl7_path: "FT1.21"
        fhir_path: "identifier[0].value"