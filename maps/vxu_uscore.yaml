messageTypes:
  - "VXU^V04"
resourcePlan:
  - resource: Patient
    profile: "http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient"
    rules:
      - hl7_path: "PID.3[*]"
        fhir_path: "identifier[]"
        transform: "pid3_to_identifiers"
      - hl7_path: "PID.5[0]"
        fhir_path: "name[0]"
        transform: "name_family_given"
      - hl7_path: "PID.7"
        fhir_path: "birthDate"
        transform: "ts_to_date"
      - hl7_path: "PID.8"
        fhir_path: "gender"
        transform: "sex_to_gender"
  - resource: Immunization
    profile: "http://hl7.org/fhir/us/core/StructureDefinition/us-core-immunization"
    rules:
      - hl7_path: "-"
        fhir_path: "status"
        transform: "default_immunization_status"
      - hl7_path: "RXA.5"
        fhir_path: "vaccineCode"
        transform: "obx_cwe_to_codeableconcept"
      - hl7_path: "RXA.3"
        fhir_path: "occurrenceDateTime"
        transform: "ts_to_datetime"
      - hl7_path: "RXA.15"
        fhir_path: "lotNumber"
      - hl7_path: "RXA.16"
        fhir_path: "expirationDate"
        transform: "ts_to_date"
      - hl7_path: "RXA.10"
        fhir_path: "performer[0].actor"
        transform: "xcn_to_reference"
      - hl7_path: "RXR.1"
        fhir_path: "route"
        transform: "obx_cwe_to_codeableconcept"
      - hl7_path: "RXR.2"
        fhir_path: "site"
        transform: "obx_cwe_to_codeableconcept"
      - hl7_path: "PID.3"
        fhir_path: "patient.identifier"
        transform: "cx_to_identifier"
