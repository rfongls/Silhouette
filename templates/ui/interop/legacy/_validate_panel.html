<section id="validate-panel" class="interop-panel interop-panel-validate card">
  <div class="module-body">
    <h3 class="text-h3 mb">Validate</h3>
    <form id="validate-form"
          hx-post="{{ legacy_urls.api_validate_view }}"
          hx-encoding="multipart/form-data"
          hx-target="#validate-output"
          hx-swap="innerHTML">
      <label>HL7 Message (paste)
        <textarea class="input" name="message" rows="7" placeholder="MSH|^~\&|..."></textarea>
      </label>
      <div class="row gap mt">
        <label>Validation Template
          <input class="input" name="profile_id" placeholder="template id (optional)" list="validation-templates" />
        </label>
        <label>Or upload .hl7
          <input class="input" type="file" name="file" accept=".hl7,.txt" />
        </label>
        <button class="btn" type="submit">Run Validate</button>
      </div>
    </form>
    <datalist id="validation-templates">
      {% for item in val_templates %}
        <option value="{{ item }}"></option>
      {% endfor %}
    </datalist>
    <div id="validate-output" class="mt"></div>
  </div>
</section>
