<div id="val-templates">
  <form class="row gap small mb"
        hx-post="{{ request.url_for('ui_settings_val_create') }}"
        hx-target="#val-templates">
    <input class="input" name="name" placeholder="Template name (e.g., default)" required>
    <button class="button">Create</button>
  </form>

  {% if val_templates %}
    <form class="row gap small"
          onsubmit="(function(f){var n=f.elements['name_select'].value; if(n){window.location.href='{{ request.url_for('ui_settings_val_edit', name='__NAME__') }}'.replace('__NAME__', encodeURIComponent(n));}})(this); return false;">
      <select class="input" name="name_select">
        {% for t in val_templates %}
          <option value="{{ t }}">{{ t }}</option>
        {% endfor %}
      </select>
      <button class="button" type="submit">Open</button>
      <button class="button danger" type="button"
              hx-post="{{ request.url_for('ui_settings_val_delete') }}"
              hx-vals='js:{"name": this.form.elements["name_select"].value}'
              hx-target="#val-templates">
        Delete
      </button>
    </form>
  {% else %}
    <p class="muted">No templates yet.</p>
  {% endif %}
</div>
