{% extends "layout.html" %}
{% block content %}
<section class="dashboard">
  <div class="dashboard-container">
    <header class="dashboard-header">
      <h1 class="text-h1">Settings</h1>
      <p class="text-body">Manage Interop templates for <strong>De-identify</strong> and <strong>Validate</strong>.</p>
    </header>

    <div class="grid two">
      <div class="card">
        <h2 class="text-h2">De-identify Templates</h2>

        <!-- Create new -->
        <form hx-post="{{ request.url_for('ui_settings_deid_create') }}" hx-target="#deid-select-wrap" class="row gap small mb">
          <input class="input" type="text" name="name" placeholder="Template name (e.g., default)" required />
          <button class="button">Create</button>
        </form>

        <!-- Selector -->
        <div id="deid-select-wrap" class="row gap small items-center">
          {% include "ui/settings/_deid_select_inner.html" %}
        </div>

        <p class="muted mt">All templates are stored as JSON under <code>configs/interop/deid_templates/</code>. Use the editor to seed defaults or customize rules.</p>
      </div>

      <div class="card">
        <h2 class="text-h2">Validation Templates</h2>
        <form hx-post="{{ request.url_for('ui_settings_val_create') }}" hx-target="#val-list" class="row gap small">
          <input class="input" type="text" name="name" placeholder="Template name (e.g., default)" required />
          <button class="button">Create</button>
        </form>
        {% include "ui/settings/_val_list.html" %}
      </div>
    </div>
  </div>
</section>
{% endblock %}
