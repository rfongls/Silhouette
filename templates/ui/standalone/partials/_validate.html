<details id="validate-panel" class="card collapsible" open>
  <summary>âœ“ Validate <span class="minimax"></span></summary>
  <div class="module-body">
    <form id="validate-form"
          hx-post="{{ urls.api_validate_view }}"
          hx-encoding="multipart/form-data"
          hx-target="#validate-output"
          hx-swap="innerHTML">
      <label>HL7 Message (paste)
        <textarea class="input" name="message" rows="7" placeholder="MSH|^~\&|..."></textarea>
      </label>
      <div class="row gap mt">
        <label>Validation Template
          <input class="input" name="profile_id" placeholder="template id (optional)" list="std-val-templates" />
        </label>
        <label>Or upload .hl7
          <input class="input" type="file" name="file" accept=".hl7,.txt" />
        </label>
        <button class="btn" type="submit">Run Validate</button>
      </div>
    </form>
    <datalist id="std-val-templates">
      {% for template in val_templates %}
        <option value="{{ template }}"></option>
      {% endfor %}
    </datalist>
    <div id="validate-output" class="mt"></div>
  </div>
</details>
